<!doctype html>
<html lang="en">
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <title>Game 01</title>
    </head>
    <body>
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        
        <script>
        
            var ballX = 75;
            var ballY = 75;
            var ballSpeedX = 5;
            var ballSpeedY = 7;
            
            const PADDLE_WIDTH = 100; // (1)
            const PADDLE_THICKNESS = 10; // (2)
            var paddleX = 400; // (3)
            
            var canvas, canvasContext;
            
            function updateMousePos(evt) { // (5)
                
                var rect = canvas.getBoundingClientRect(); // (6)
                var root = document.documentElement;
                
                var mouseX = evt.clientX - rect.left - root.scroolLeft; // (7)
                // var mouseY = evt.clientY - rect.top - root.scroolTop; // (8)                
                paddleX = mouseX; // (9)
            }
            
            window.onload = function() {
                canvas = document.getElementById('gameCanvas');
                canvasContext = canvas.getContext('2d');
                
                var framesPerSecond = 30;
                setInterval(updateAll, 1000/framesPerSecond);
                
                canvas.addEventListener('mousemove', updateMousePos); // (4)
            }
                
            function updateAll() {
                moveAll();
                drawAll();
            
            }
            
            function moveAll() {
                ballX += ballSpeedX;
                ballY += ballSpeedY; 

                if(ballX < 0) {
                    ballSpeedX *= -1;
                }
                if(ballX > canvas.width) {
                    ballSpeedX *= -1;    
                }
                if(ballY < 0) {
                    ballSpeedY *= -1;
                }
                if(ballY > canvas.width) {
                    ballSpeedY *= -1;
                }
            }
            
            function drawAll() {
                colorRect(0,0, canvas.width, canvas.height, 'black');
                
                colorCircle(ballX,ballY, 10, 'white');
            }
            
            function colorRect(topLeftX,topLeftY, boxWidth,boxHeight, fillColor) {
                canvasContext.fillStyle = fillColor;
                canvasContext.fillRect(topLeftX,topLeftY, boxWidth,boxHeight);
            }
            
            function colorCircle(centerX,centerY, radius, fillColor) {
                canvasContext.fillStyle = fillColor;
                canvasContext.beginPath();
                canvasContext.arc(centerX,centerY, radius, 0,Math.PI*2, true);
                canvasContext.fill();                
            }
            
            // (1) Set paddle width
            // (2) Set paddle height
            // (3) Set paddle X position
            // (4) To move the mouse, add an event listener
            // (5) Define the updateMousePos() that I called in (4)
            // (6) Get the position on the page of our actual canvas
            // (7) subtract how far the canvas is from the left side and how far the user has scrolled sideways 
            // (8) Same for the Y, but we won't use it now
            // (9) Update the global paddleX value to where we wanna go
        </script>
    </body>
</html>